{"ast":null,"code":"import { isRenderable } from \"../element/is\";\nexport function gatherEventListeners(el) {\n  var listeners = {};\n  var p = el;\n  var empty = true;\n\n  function gather(k, l) {\n    if (typeof listeners[k] === \"undefined\") {\n      listeners[k] = l;\n    } else if (typeof listeners[k] === \"function\") {\n      listeners[k] = [null, listeners[k], l];\n    } else if (listeners[k][0] !== null) {\n      listeners[k] = [null, listeners[k], l];\n    } else {\n      listeners[k].push(l);\n    }\n\n    empty = false;\n  }\n\n  do {\n    Object.keys(p.$on).forEach(function (k) {\n      return gather(k, p.$on[k]);\n    });\n    Object.values(p.$behavior).forEach(function (b) {\n      return b.events.forEach(function (k) {\n        return gather(k, b[k].bind(b));\n      });\n    });\n    p = p.parent;\n  } while (p && isRenderable(p));\n\n  return empty ? null : listeners;\n}","map":null,"metadata":{},"sourceType":"module"}