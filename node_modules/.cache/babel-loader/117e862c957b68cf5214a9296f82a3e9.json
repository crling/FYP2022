{"ast":null,"code":"import Oviz from \"crux\";\nimport { controlGroupColors } from \"oviz-common/palette\";\nimport { register } from \"page/visualizers\";\nimport { registerEditorConfig } from \"utils/editor\";\nimport { getLeafOrder, main, meta } from \"./data\";\nimport { editorConfig, editorRef } from \"./editor\";\nimport { MetaOverview } from \"./meta-overview\";\nvar MODULE_NAME = \"meta-overview\";\n\nfunction init() {\n  if (!window.gon || window.gon.module_name !== MODULE_NAME) return;\n\n  var _Oviz$visualize = Oviz.visualize({\n    el: \"#canvas\",\n    renderer: \"svg\",\n    width: 1600,\n    height: 750,\n    root: new MetaOverview(),\n    theme: \"light\",\n    data: {\n      hiddenSamples: new Set(),\n      gridSize: [4, 12],\n      colors: {\n        control: controlGroupColors[0],\n        gout: controlGroupColors[1],\n        na: \"#777\",\n        abd0: \"#333\",\n        // start: \"#fff7f3\",\n        // end: \"#0A2299\",\n        start: \"#800000\",\n        org: \"#FF5050\",\n        end: \"#FFFF00\"\n      }\n    },\n    loadData: {\n      ovTree: {\n        fileKey: \"ovTree\",\n        type: \"newick\",\n        optional: true,\n        loaded: function loaded(d) {\n          // d = removeNodeLength(d);\n          // test();\n          this.data.species = getLeafOrder(d);\n          return d;\n        }\n      },\n      ovMain: {\n        fileKey: \"ovMain\",\n        type: \"tsv\",\n        dependsOn: [\"ovTree\"],\n        loaded: main\n      },\n      ovMeta: {\n        fileKey: \"ovMeta\",\n        type: \"tsv\",\n        dsvRowDef: {\n          Age: \"int\",\n          BMI: \"int\",\n          age: \"int\"\n        },\n        dependsOn: [\"ovMain\"],\n        loaded: meta\n      }\n    },\n    setup: function setup() {\n      console.log(this[\"_data\"]);\n      registerEditorConfig(editorConfig(this), editorRef);\n    }\n  }),\n      visualizer = _Oviz$visualize.visualizer;\n\n  return visualizer;\n}\n\nregister(MODULE_NAME, init);","map":{"version":3,"sources":["/Users/wangzhenyu/Desktop/fyp_workspace/meta_platform/app/javascript/viz/meta-overview/index.ts"],"names":["Oviz","controlGroupColors","register","registerEditorConfig","getLeafOrder","main","meta","editorConfig","editorRef","MetaOverview","MODULE_NAME","init","window","gon","module_name","visualize","el","renderer","width","height","root","theme","data","hiddenSamples","Set","gridSize","colors","control","gout","na","abd0","start","org","end","loadData","ovTree","fileKey","type","optional","loaded","d","species","ovMain","dependsOn","ovMeta","dsvRowDef","Age","BMI","age","setup","console","log","visualizer"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,SAAQC,kBAAR,QAAiC,qBAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,oBAAT,QAAqC,cAArC;AAEA,SAASC,YAAT,EAAuBC,IAAvB,EAA6BC,IAA7B,QAAyC,QAAzC;AACA,SAASC,YAAT,EAAuBC,SAAvB,QAAwC,UAAxC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AAEA,IAAMC,WAAW,GAAG,eAApB;;AAEA,SAASC,IAAT,GAAgB;AACZ,MAAK,CAACC,MAAM,CAACC,GAAR,IAAeD,MAAM,CAACC,GAAP,CAAWC,WAAX,KAA2BJ,WAA/C,EAA4D;;AADhD,wBAESV,IAAI,CAACe,SAAL,CAAe;AAChCC,IAAAA,EAAE,EAAE,SAD4B;AAEhCC,IAAAA,QAAQ,EAAE,KAFsB;AAGhCC,IAAAA,KAAK,EAAE,IAHyB;AAIhCC,IAAAA,MAAM,EAAE,GAJwB;AAKhCC,IAAAA,IAAI,EAAE,IAAIX,YAAJ,EAL0B;AAMhCY,IAAAA,KAAK,EAAE,OANyB;AAOhCC,IAAAA,IAAI,EAAE;AACFC,MAAAA,aAAa,EAAE,IAAIC,GAAJ,EADb;AAEFC,MAAAA,QAAQ,EAAE,CAAC,CAAD,EAAI,EAAJ,CAFR;AAGFC,MAAAA,MAAM,EAAE;AACJC,QAAAA,OAAO,EAAE1B,kBAAkB,CAAC,CAAD,CADvB;AAEJ2B,QAAAA,IAAI,EAAE3B,kBAAkB,CAAC,CAAD,CAFpB;AAGJ4B,QAAAA,EAAE,EAAE,MAHA;AAIJC,QAAAA,IAAI,EAAE,MAJF;AAKJ;AACA;AACAC,QAAAA,KAAK,EAAE,SAPH;AAQJC,QAAAA,GAAG,EAAE,SARD;AASJC,QAAAA,GAAG,EAAE;AATD;AAHN,KAP0B;AAsBhCC,IAAAA,QAAQ,EAAE;AACNC,MAAAA,MAAM,EAAE;AACJC,QAAAA,OAAO,EAAE,QADL;AAEJC,QAAAA,IAAI,EAAE,QAFF;AAGJC,QAAAA,QAAQ,EAAE,IAHN;AAIJC,QAAAA,MAJI,kBAIGC,CAJH,EAIM;AACN;AACA;AACA,eAAKlB,IAAL,CAAUmB,OAAV,GAAoBrC,YAAY,CAACoC,CAAD,CAAhC;AACA,iBAAOA,CAAP;AACH;AATG,OADF;AAYNE,MAAAA,MAAM,EAAE;AACJN,QAAAA,OAAO,EAAE,QADL;AAEJC,QAAAA,IAAI,EAAE,KAFF;AAGJM,QAAAA,SAAS,EAAE,CAAC,QAAD,CAHP;AAIJJ,QAAAA,MAAM,EAAElC;AAJJ,OAZF;AAkBNuC,MAAAA,MAAM,EAAE;AACJR,QAAAA,OAAO,EAAE,QADL;AAEJC,QAAAA,IAAI,EAAE,KAFF;AAGJQ,QAAAA,SAAS,EAAE;AAACC,UAAAA,GAAG,EAAE,KAAN;AAAaC,UAAAA,GAAG,EAAE,KAAlB;AAAyBC,UAAAA,GAAG,EAAE;AAA9B,SAHP;AAIJL,QAAAA,SAAS,EAAE,CAAC,QAAD,CAJP;AAKJJ,QAAAA,MAAM,EAAEjC;AALJ;AAlBF,KAtBsB;AAgDhC2C,IAAAA,KAhDgC,mBAgDxB;AACJC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK,OAAL,CAAZ;AACAhD,MAAAA,oBAAoB,CAACI,YAAY,CAAC,IAAD,CAAb,EAAqBC,SAArB,CAApB;AACH;AAnD+B,GAAf,CAFT;AAAA,MAEL4C,UAFK,mBAELA,UAFK;;AAuDZ,SAAOA,UAAP;AACH;;AAEDlD,QAAQ,CAACQ,WAAD,EAAcC,IAAd,CAAR","sourcesContent":["import Oviz from \"crux\";\nimport { remove } from \"crux/dist/utils/event\";\nimport {controlGroupColors} from \"oviz-common/palette\";\nimport { register } from \"page/visualizers\";\nimport { registerEditorConfig } from \"utils/editor\";\n\nimport { getLeafOrder, main, meta } from \"./data\";\nimport { editorConfig, editorRef } from \"./editor\";\nimport { MetaOverview } from \"./meta-overview\";\n\nconst MODULE_NAME = \"meta-overview\";\n\nfunction init() {\n    if ( !window.gon || window.gon.module_name !== MODULE_NAME) return;\n    const {visualizer} = Oviz.visualize({\n        el: \"#canvas\",\n        renderer: \"svg\",\n        width: 1600,\n        height: 750,\n        root: new MetaOverview(),\n        theme: \"light\",\n        data: {\n            hiddenSamples: new Set(),\n            gridSize: [4, 12],\n            colors: {\n                control: controlGroupColors[0],\n                gout: controlGroupColors[1],\n                na: \"#777\",\n                abd0: \"#333\",\n                // start: \"#fff7f3\",\n                // end: \"#0A2299\",\n                start: \"#800000\",\n                org: \"#FF5050\",\n                end: \"#FFFF00\",\n            },\n        },\n        loadData: {\n            ovTree: {\n                fileKey: \"ovTree\",\n                type: \"newick\",\n                optional: true,\n                loaded(d) {\n                    // d = removeNodeLength(d);\n                    // test();\n                    this.data.species = getLeafOrder(d);\n                    return d;\n                },\n            },\n            ovMain: {\n                fileKey: \"ovMain\",\n                type: \"tsv\",\n                dependsOn: [\"ovTree\"],\n                loaded: main,\n            },\n            ovMeta: {\n                fileKey: \"ovMeta\",\n                type: \"tsv\",\n                dsvRowDef: {Age: \"int\", BMI: \"int\", age: \"int\"},\n                dependsOn: [\"ovMain\"],\n                loaded: meta,\n            },\n        },\n        setup() {\n            console.log(this[\"_data\"]);\n            registerEditorConfig(editorConfig(this), editorRef);\n        },\n    });\n    return visualizer;\n}\n\nregister(MODULE_NAME, init);\n"]},"metadata":{},"sourceType":"module"}