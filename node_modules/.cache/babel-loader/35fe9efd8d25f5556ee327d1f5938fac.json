{"ast":null,"code":"import { XYPlot } from \"../../plot/xy-plot\";\nexport function inheritData() {\n  var _this = this;\n\n  if (!(this.$parent instanceof XYPlot) || !this.$parent.hasMultipleData) throw new Error(\"StackedBars: it must be placed in an XYPlot with multiple data groups.\");\n  if (typeof this.prop.data !== \"string\") throw new Error(\"StackedBars: the data prop must be a stacked data key.\");\n  var $data = this.$parent.data;\n  var data = {};\n  this.dataKeys = this.$parent.stackedDataKeys(this.prop.data);\n  this.dataPos = $data[this.dataKeys[0]].values.map(function (d) {\n    return d.pos;\n  });\n  this.dataKeys.forEach(function (key) {\n    $data[key].values.forEach(function (d) {\n      var pos = d.pos;\n      if (!data[pos]) data[pos] = {};\n      data[pos][key] = d;\n    });\n  });\n  Object.keys(data).forEach(function (pos) {\n    var acc = 0;\n\n    _this.dataKeys.forEach(function (key) {\n      var value = data[pos][key].value;\n      data[pos][key].minValue = acc;\n      acc += value;\n    });\n  });\n  this.data = data;\n}","map":null,"metadata":{},"sourceType":"module"}