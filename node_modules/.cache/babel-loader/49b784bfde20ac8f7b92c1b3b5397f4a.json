{"ast":null,"code":"import Oviz from \"crux\";\nimport { annoLoaded, main, matrixLoaded } from \"viz/tree/data\";\nimport template from \"viz/tree/template.bvt\";\nexport function init(id, path, config) {\n  Oviz.visualize({\n    el: id,\n    template: template,\n    renderer: \"svg\",\n    height: 1400,\n    width: 2000,\n    theme: \"light\",\n    loadData: {\n      anno: {\n        type: \"tsv\",\n        url: path[\"anno\"],\n        loaded: annoLoaded\n      },\n      matrix: {\n        type: \"tsv\",\n        url: path[\"matrix\"],\n        loaded: matrixLoaded\n      },\n      tree: {\n        type: \"tsv\",\n        url: path[\"tree\"],\n        dependsOn: [\"matrix\"],\n        loaded: main\n      }\n    },\n    setup: function setup() {\n      if (this.data.tree.dataOpt.isRadical) {\n        var r = this.data.tree.dataOpt.treeRadius + Math.ceil(this.data.tree.dataOpt.maxTextLength);\n        this.size.width = 2 * r + 200;\n        this.size.height = 2 * r;\n      } else {\n        this.size.width = this.size.height = 1000;\n      }\n    }\n  });\n}","map":{"version":3,"sources":["/Users/wangzhenyu/Desktop/fyp_workspace/meta_platform/app/javascript/viz/static_tree/index.ts"],"names":["Oviz","annoLoaded","main","matrixLoaded","template","init","id","path","config","visualize","el","renderer","height","width","theme","loadData","anno","type","url","loaded","matrix","tree","dependsOn","setup","data","dataOpt","isRadical","r","treeRadius","Math","ceil","maxTextLength","size"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,SAAQC,UAAR,EAAoBC,IAApB,EAA0BC,YAA1B,QAA6C,eAA7C;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAEA,OAAO,SAASC,IAAT,CAAcC,EAAd,EAAkBC,IAAlB,EAAwBC,MAAxB,EAAgC;AACnCR,EAAAA,IAAI,CAACS,SAAL,CAAe;AACXC,IAAAA,EAAE,EAAEJ,EADO;AAEXF,IAAAA,QAAQ,EAARA,QAFW;AAGXO,IAAAA,QAAQ,EAAE,KAHC;AAIXC,IAAAA,MAAM,EAAE,IAJG;AAKXC,IAAAA,KAAK,EAAE,IALI;AAMXC,IAAAA,KAAK,EAAE,OANI;AAOXC,IAAAA,QAAQ,EAAE;AACNC,MAAAA,IAAI,EAAE;AACFC,QAAAA,IAAI,EAAE,KADJ;AAEFC,QAAAA,GAAG,EAAEX,IAAI,CAAC,MAAD,CAFP;AAGFY,QAAAA,MAAM,EAAElB;AAHN,OADA;AAMNmB,MAAAA,MAAM,EAAE;AACJH,QAAAA,IAAI,EAAE,KADF;AAEJC,QAAAA,GAAG,EAAEX,IAAI,CAAC,QAAD,CAFL;AAGJY,QAAAA,MAAM,EAAEhB;AAHJ,OANF;AAWNkB,MAAAA,IAAI,EAAE;AACFJ,QAAAA,IAAI,EAAE,KADJ;AAEFC,QAAAA,GAAG,EAAEX,IAAI,CAAC,MAAD,CAFP;AAGFe,QAAAA,SAAS,EAAE,CAAC,QAAD,CAHT;AAIFH,QAAAA,MAAM,EAAEjB;AAJN;AAXA,KAPC;AAyBXqB,IAAAA,KAzBW,mBAyBH;AACJ,UAAI,KAAKC,IAAL,CAAUH,IAAV,CAAeI,OAAf,CAAuBC,SAA3B,EAAsC;AAClC,YAAMC,CAAC,GAAG,KAAKH,IAAL,CAAUH,IAAV,CAAeI,OAAf,CAAuBG,UAAvB,GAAoCC,IAAI,CAACC,IAAL,CAAU,KAAKN,IAAL,CAAUH,IAAV,CAAeI,OAAf,CAAuBM,aAAjC,CAA9C;AACA,aAAKC,IAAL,CAAUnB,KAAV,GAAkB,IAAIc,CAAJ,GAAQ,GAA1B;AACA,aAAKK,IAAL,CAAUpB,MAAV,GAAmB,IAAIe,CAAvB;AACH,OAJD,MAIO;AACH,aAAKK,IAAL,CAAUnB,KAAV,GAAkB,KAAKmB,IAAL,CAAUpB,MAAV,GAAmB,IAArC;AACH;AACJ;AAjCU,GAAf;AAmCH","sourcesContent":["import Oviz from \"crux\";\nimport {annoLoaded, main, matrixLoaded} from \"viz/tree/data\";\nimport template from \"viz/tree/template.bvt\";\n\nexport function init(id, path, config) {\n    Oviz.visualize({\n        el: id,\n        template,\n        renderer: \"svg\",\n        height: 1400,\n        width: 2000,\n        theme: \"light\",\n        loadData: {\n            anno: {\n                type: \"tsv\",\n                url: path[\"anno\"],\n                loaded: annoLoaded,\n            },\n            matrix: {\n                type: \"tsv\",\n                url: path[\"matrix\"],\n                loaded: matrixLoaded,\n            },\n            tree: {\n                type: \"tsv\",\n                url: path[\"tree\"],\n                dependsOn: [\"matrix\"],\n                loaded: main,\n            },\n        },\n        setup() {\n            if (this.data.tree.dataOpt.isRadical) {\n                const r = this.data.tree.dataOpt.treeRadius + Math.ceil(this.data.tree.dataOpt.maxTextLength);\n                this.size.width = 2 * r + 200;\n                this.size.height = 2 * r;\n            } else {\n                this.size.width = this.size.height = 1000;\n            }\n        },\n    });\n}\n"]},"metadata":{},"sourceType":"module"}