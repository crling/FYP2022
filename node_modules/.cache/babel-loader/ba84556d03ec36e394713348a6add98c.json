{"ast":null,"code":"// https://github.com/adambisek/string-pixel-width\nimport { deburr } from \"lodash\";\nimport widthsMap from \"./width-map\";\nvar settingsDefaults = {\n  font: \"Arial\",\n  size: 12\n};\nexport default function measureTextOffline(text, settings) {\n  var sett = Object.assign(Object.assign({}, settingsDefaults), settings);\n  var font = sett.font.toLowerCase();\n  var size = sett.size;\n  var variant = 0 + (sett.bold ? 1 : 0) + (sett.italic ? 2 : 0);\n  var map = sett.map || widthsMap;\n  var available = Object.keys(map);\n\n  if (available.indexOf(font) === -1) {\n    throw new Error(\"This font is not supported. Supported fonts are: \".concat(available.join(\", \")));\n  }\n\n  var totalWidth = 0;\n  deburr(text).split(\"\").forEach(function (_char) {\n    if (/[\\x00-\\x1F]/.test(_char)) {\n      return true;\n    }\n\n    var widths = map[font][_char] || map[font].x;\n    var width = widths[variant];\n    totalWidth += width;\n    return true;\n  });\n  return totalWidth * (size / 100);\n}","map":null,"metadata":{},"sourceType":"module"}