{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n$(window).unload(function () {\n  $.rails.enableFormElements($($.rails.formSubmitSelector));\n});\n$.fn.dataTable.ext.errMode = 'throw';\n\nfunction union(setA, setB) {\n  var _union = new Set(setA);\n\n  var _iterator = _createForOfIteratorHelper(setB),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var elem = _step.value;\n\n      _union.add(elem);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return _union;\n}\n\nfunction difference(setA, setB) {\n  var _difference = new Set(setA);\n\n  var _iterator2 = _createForOfIteratorHelper(setB),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var elem = _step2.value;\n\n      _difference[\"delete\"](elem);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return _difference;\n}\n\nfunction intersection(setA, setB) {\n  var intersection = new Set();\n\n  var _iterator3 = _createForOfIteratorHelper(setB),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var elem = _step3.value;\n\n      if (setA.has(elem)) {\n        intersection.add(elem);\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  return intersection;\n}\n\nfunction modify_set(option, id_set, new_ids) {\n  var new_ids = Array.from(new_ids);\n  var new_ids = new Set(new_ids);\n\n  if (option > 0) {\n    // add new ids\n    return union(id_set, new_ids);\n  } else {\n    return difference(id_set, new Set(new_ids));\n  }\n}\n\n$(function () {\n  var _$$DataTable;\n\n  var ids = new Set();\n  var invis = window.gon.invis; //console.log($(\"#table_page\").data('url'));\n\n  var table = $(\"#table_page\").DataTable((_$$DataTable = {\n    fixedColumns: true\n  }, _defineProperty(_$$DataTable, \"fixedColumns\", {\n    leftColumns: 3,\n    rightColumns: 1\n  }), _defineProperty(_$$DataTable, \"processing\", true), _defineProperty(_$$DataTable, \"serverSide\", true), _defineProperty(_$$DataTable, \"ajax\", $(\"#table_page\").data('url')), _defineProperty(_$$DataTable, \"columnDefs\", [{\n    targets: 0,\n    orderable: false,\n    className: 'select-checkbox',\n    checkboxes: {\n      selectRow: true\n    }\n  }, {\n    targets: -1,\n    orderable: false\n  }, {\n    targets: invis,\n    visible: false\n  }]), _defineProperty(_$$DataTable, \"searching\", true), _defineProperty(_$$DataTable, \"select\", {\n    style: 'multi',\n    selector: 'td:first-child'\n  }), _defineProperty(_$$DataTable, \"scrollX\", true), _defineProperty(_$$DataTable, \"rowCallback\", function rowCallback(row, data) {\n    if (data[34] == \"<div class='table_cell'> YES </div>\") {\n      $('td:eq(8)', row).css('background-color', '#83FDC0');\n    } else if (data[34] == \"<div class='table_cell'> NO </div>\") {\n      $(row).find('td:eq(8)').css('background-color', '#FA9288');\n    } else {//$(row).find('td:eq(7)').css('background-color', 'orange')\n    }\n  }), _$$DataTable));\n  table.on('change', function () {//console.log(\"clicking\");\n    // var info = table.fnSettings().aaSorting;\n    // var idx = info[0][0];\n    // alert(idx);\n  });\n  $(\"th.select-checkbox\").on('click', function (e) {\n    if ($(\".selectAll\").is(\":checked\")) {\n      table.rows().select();\n    } else {\n      table.rows().deselect();\n    }\n  });\n  table.on(\"select\", function (e) {\n    var rows_selected = table.rows({\n      selected: true\n    }).data(); //.column(0).data();\n\n    var selected_ids = rows_selected.map(function (value, index) {\n      return value[1];\n    });\n    ids = modify_set(1, ids, selected_ids);\n  });\n  table.on(\"deselect\", function (e) {\n    var rows_deselected = table.rows({\n      selected: false\n    }).data(); //.column(0).data();\n\n    var deselected_ids = rows_deselected.map(function (value, index) {\n      return value[1];\n    });\n    ids = modify_set(-1, ids, deselected_ids); //console.log(ids);\n  });\n  table.on(\"draw\", function (e) {\n    //console.log(\"predraw\");\n    var all_rows = table.rows().data();\n    var all_select = true;\n\n    if (all_rows.length == 0) {\n      all_select = false;\n    }\n\n    all_rows.map(function (row, index) {\n      var id = row[0];\n\n      if (ids.has(id)) {\n        table.row(index).select();\n      } else {\n        all_select = false;\n      }\n    });\n\n    if (all_select) {\n      $(\".selectAll\").prop('checked', true);\n    } else {\n      $(\".selectAll\").prop('checked', false);\n    }\n  });\n  $('.s_table_sub').on(\"click\", function (e) {\n    var form = this;\n    var selected_ids = Array.from(ids); // Iterate over all selected checkboxes\n\n    $.each(selected_ids, function (index, id) {\n      // Create a hidden element\n      $(form).append($('<input>').attr('type', 'hidden').attr('name', 'selected_ids[]').val(id));\n    });\n    $(form).append($('<input>').attr('type', 'hidden').attr('name', 'search_value').val(table.search())); //console.log('submitting');\n  });\n  $('button.toggle-vis').on('click', function (e) {\n    e.preventDefault();\n    $(this).toggleClass('clicked'); // Get the column API object\n\n    var column = table.column($(this).attr('data-column')); // Toggle the visibility\n\n    column.visible(!column.visible());\n  });\n});","map":{"version":3,"sources":["/Users/wangzhenyu/Desktop/fyp_workspace/meta_platform/app/javascript/packs/datatable.js"],"names":["$","window","unload","rails","enableFormElements","formSubmitSelector","fn","dataTable","ext","errMode","union","setA","setB","_union","Set","elem","add","difference","_difference","intersection","has","modify_set","option","id_set","new_ids","Array","from","ids","invis","gon","table","DataTable","fixedColumns","leftColumns","rightColumns","data","targets","orderable","className","checkboxes","selectRow","visible","style","selector","row","css","find","on","e","is","rows","select","deselect","rows_selected","selected","selected_ids","map","value","index","rows_deselected","deselected_ids","all_rows","all_select","length","id","prop","form","each","append","attr","val","search","preventDefault","toggleClass","column"],"mappings":"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","sourcesContent":["$(window).unload(function() {\n    $.rails.enableFormElements($($.rails.formSubmitSelector));\n  });\n\n$.fn.dataTable.ext.errMode = 'throw';\n\nfunction union(setA, setB) {\n    let _union = new Set(setA);\n    for (let elem of setB) {\n        _union.add(elem);\n    }\n    return _union;\n}\n\nfunction difference(setA, setB) {\n    let _difference = new Set(setA);\n    for (let elem of setB) {\n        _difference.delete(elem);\n    }\n    return _difference;\n}\n\nfunction intersection(setA, setB){\n    var intersection = new Set();\n    for (var elem of setB) {\n        if (setA.has(elem)) {\n            intersection.add(elem);\n        }\n    }\n    return intersection;\n\n}\n\nfunction modify_set(option, id_set, new_ids){\n    var new_ids = Array.from(new_ids);\n    var new_ids = new Set(new_ids)\n    if (option > 0) {\n        // add new ids\n        return union(id_set, new_ids);\n    }\n    else{\n        return difference(id_set, new Set(new_ids));\n    }\n}\n\n$(function () { \n    var ids = new Set();\n    var invis = window.gon.invis\n    //console.log($(\"#table_page\").data('url'));\n    var table = $(\"#table_page\").DataTable({\n        fixedColumns: true,\n        fixedColumns: {\n            leftColumns: 3,\n            rightColumns: 1\n        },\n        processing: true,\n        serverSide: true,\n        ajax: $(\"#table_page\").data('url'),\n        columnDefs: [\n        {\n            targets: 0,\n            orderable: false,\n            className: 'select-checkbox',\n            checkboxes: {\n                selectRow: true,\n            },\n        },\n        {\n            targets: -1,\n            orderable: false  \n        },\n        {\n            targets: invis,\n            visible: false\n        }\n        ],\n        searching: true,\n        select: {\n            style:    'multi',\n            selector: 'td:first-child'\n        },\n        scrollX: true,\n        rowCallback: function(row, data) {\n            if ( data[34] == \"<div class='table_cell'> YES </div>\" )\n            {\n                $('td:eq(8)', row).css('background-color', '#83FDC0');\n                \n            }\n            else if( data[34] == \"<div class='table_cell'> NO </div>\" )\n            {\n                $(row).find('td:eq(8)').css('background-color', '#FA9288');\n                \n            }\n            else{\n                //$(row).find('td:eq(7)').css('background-color', 'orange')\n            }         \n        }\n    }); \n\n\n    table.on('change', function() {\n        //console.log(\"clicking\");\n        // var info = table.fnSettings().aaSorting;\n        // var idx = info[0][0];\n        // alert(idx);\n    })\n\n    $(\"th.select-checkbox\").on('click',function(e) {\n        if ($(\".selectAll\").is( \":checked\" )) {\n            table.rows(  ).select(); \n        } else {\n            table.rows(  ).deselect(); \n        }\n    });\n\n    table.on(\"select\", function(e) {\n        var rows_selected = table.rows( { selected: true } ).data();//.column(0).data();\n        var selected_ids = rows_selected.map(function(value,index) { \n            return value[1];\n        });\n        ids = modify_set(1, ids, selected_ids);\n    });\n\n    table.on(\"deselect\", function(e) {\n        var rows_deselected = table.rows( { selected: false } ).data();//.column(0).data();\n        var deselected_ids = rows_deselected.map(function(value,index) { \n            return value[1];\n        });\n        ids = modify_set(-1, ids, deselected_ids);\n        //console.log(ids);\n    });\n\n    table.on(\"draw\", function(e) {\n        //console.log(\"predraw\");\n        var all_rows = table.rows().data();\n        var all_select = true;\n        if(all_rows.length==0){\n            all_select = false;\n        }\n        all_rows.map(function(row, index){\n            var id = row[0];\n            if (ids.has(id)){\n                table.row(index).select();\n            }\n            else{\n                all_select = false;\n            }\n        });\n        if(all_select){\n            $(\".selectAll\").prop('checked', true);\n        }\n        else{\n            $(\".selectAll\").prop('checked', false);\n        }\n        \n    });\n\n\n    $('.s_table_sub').on(\"click\", function(e){\n        var form = this;\n        var selected_ids = Array.from(ids)\n        // Iterate over all selected checkboxes\n        $.each(selected_ids, function(index, id){\n           // Create a hidden element\n           $(form).append(\n                $('<input>')\n                .attr('type', 'hidden')\n                .attr('name', 'selected_ids[]')\n                .val(id)\n            );\n        });\n        $(form).append(\n            $('<input>')\n                .attr('type', 'hidden')\n                .attr('name', 'search_value')\n                .val(table.search())\n        );\n        //console.log('submitting');\n    });\n\n    $('button.toggle-vis').on( 'click', function (e) {\n      e.preventDefault();\n      $(this).toggleClass('clicked');\n      // Get the column API object\n      var column = table.column( $(this).attr('data-column') );\n      // Toggle the visibility\n      column.visible( ! column.visible() );\n    } );\n\n} );\n\n\n\n"]},"metadata":{},"sourceType":"module"}