{"ast":null,"code":"var _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nvar ReorderSpecies = (_dec = Component({\n  components: {\n    draggable: draggable\n  }\n}), _dec2 = Prop(), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Vue) {\n  _inherits(ReorderSpecies, _Vue);\n\n  var _super = _createSuper(ReorderSpecies);\n\n  function ReorderSpecies() {\n    var _this;\n\n    _classCallCheck(this, ReorderSpecies);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _initializerDefineProperty(_this, \"data\", _descriptor, _assertThisInitialized(_this));\n\n    _this.bisecPosGroup = [];\n    _this.bisecNegGroup = [];\n    _this.bisecRows = \"0\";\n    _this.sortPos = true;\n    _this.sortNeg = false;\n    _this.useDefault = true;\n    return _this;\n  }\n\n  _createClass(ReorderSpecies, [{\n    key: \"toggleModal\",\n    value: function toggleModal(show) {\n      var _this2 = this;\n\n      this.$refs.modal[show ? \"show\" : \"hide\"]();\n      this.$nextTick(function () {\n        _this2.$forceUpdate();\n      });\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      // if (this.data.keys[0] !== \"group\") this.useDefault = false;\n      if (this.data.keys.length > 0) this.useDefault = false;\n      this.data.callback(this.data.keys, this.useDefault);\n    }\n  }, {\n    key: \"useDefaultSort\",\n    value: function useDefaultSort() {\n      // this.data.keys = [\"group\"];\n      this.data.keys = [];\n      this.useDefault = true;\n    }\n  }, {\n    key: \"showBisecSettings\",\n    get: function get() {\n      return this.data.keys.some(function (k) {\n        return k === \"abis\" || k === \"dbis\";\n      });\n    }\n  }]);\n\n  return ReorderSpecies;\n}(Vue), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"data\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { ReorderSpecies as default };","map":{"version":3,"sources":["reorder-species.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,SAAA,MAAA,qBAAA;AACA,SAAA,IAAA,QAAA,wBAAA;AACA,OAAA,SAAA,MAAA,cAAA;IAKA,c,WAHA,SAAA,CAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,SAAA,EAAA;AAAA;AADA,CAAA,C,UAIA,IAAA,E;;;;;;;;;;;;;;;;;;UAEA,a,GAAA,E;UACA,a,GAAA,E;UACA,S,GAAA,G;UACA,O,GAAA,I;UACA,O,GAAA,K;UACA,U,GAAA,I;;;;;;gCAEA,I,EAAA;AAAA;;AACA,WAAA,KAAA,CAAA,KAAA,CAAA,IAAA,GAAA,MAAA,GAAA,MAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,YAAA;AACA,OAFA;AAGA;;;4BAMA;AACA;AACA,UAAA,KAAA,IAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA,KAAA,UAAA,GAAA,KAAA;AACA,WAAA,IAAA,CAAA,QAAA,CACA,KAAA,IAAA,CAAA,IADA,EAEA,KAAA,UAFA;AAIA;;;qCAEA;AACA;AACA,WAAA,IAAA,CAAA,IAAA,GAAA,EAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA;;;wBAjBA;AACA,aAAA,KAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,KAAA,MAAA,IAAA,CAAA,KAAA,MAAA;AAAA,OAAA,CAAA;AACA;;;;EAnBA,G;;;;;;SAAA,c","sourcesContent":["<template>\n    <div>\n        <b-btn size=\"sm\" @click=\"toggleModal(true)\" block>Reorder species</b-btn>\n        <b-modal ref=\"modal\" title=\"Reorder species\" @ok=\"apply\" no-stacking no-fade centered>\n            <div v-for=\"(key, index) in data.keys\" :key=\"index\" class=\"mb-1\">\n                <div v-if=\"index\">Then:</div>\n                <div v-else>Sort by:</div>\n                <b-input-group class=\"mt-1\">\n                    <b-form-select v-model=\"data.keys[index]\" :options=\"data.options\" />\n                    <b-input-group-append>\n                        <b-button\n                            variant=\"danger\"\n                            :disabled=\"data.keys.length === 1\"\n                            @click=\"$delete(data.keys, index)\"\n                        >\n                            Remove\n                        </b-button>\n                    </b-input-group-append>\n                </b-input-group>\n            </div>\n            <b-btn @click=\"data.keys.push('aid')\" class=\"mt-3\" size=\"sm\">Add criteria</b-btn>\n            <b-btn @click=\"useDefaultSort()\" variant=\"primary\" \n                :disabled=\"data.keys[0] === `group`\"\n                class=\"mt-3\" size=\"sm\"\n            >\n                Use default sort\n            </b-btn>\n            \n        </b-modal>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\n\n@Component({\n    components: { draggable },\n})\nexport default class ReorderSpecies extends Vue {\n    @Prop() public data: any;\n\n    private bisecPosGroup = [];\n    private bisecNegGroup = [];\n    private bisecRows = \"0\";\n    private sortPos = true;\n    private sortNeg = false;\n    private useDefault = true;\n\n    private toggleModal(show: boolean) {\n        (this.$refs.modal as any)[show ? \"show\" : \"hide\"]();\n        this.$nextTick(() => {\n            this.$forceUpdate();\n        });\n    }\n\n    private get showBisecSettings() {\n        return this.data.keys.some(k => k === \"abis\" || k === \"dbis\");\n    }\n\n    private apply() {\n        // if (this.data.keys[0] !== \"group\") this.useDefault = false;\n        if (this.data.keys.length > 0) this.useDefault = false;\n        this.data.callback(\n            this.data.keys,\n            this.useDefault\n        );\n    }\n\n    private useDefaultSort() {\n        // this.data.keys = [\"group\"];\n        this.data.keys = [];\n        this.useDefault = true;\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\nhr {\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n}\n    \n.item-wrapper {\n    width: 100%;\n    align-self: stretch;\n}\n\n.item-wrapper :first-child {\n    padding-right: 4px;\n}\n    \n\n.item-wrapper :last-child {\n    padding-left: 4px;\n}\n.item-frame {\n    padding: 6px;\n    border-radius: 3px;\n    border: 1px solid rgba(255,255,255,.1);\n}\n    \n.item, .item-s {\n    font-size: 12px;\n    background: #6c757d;\n    border-radius: 4px;\n}\n.item {\n    cursor: pointer;\n}\n    \n</style>\n"],"sourceRoot":"app/javascript/viz/fmt-overview"},"metadata":{},"sourceType":"module"}