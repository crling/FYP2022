{"ast":null,"code":"import { event } from \"crux/dist/utils\";\nexport var viz_mode = {\n  ANALYSIS: \"analysis\",\n  TASK_OUTPUT: \"task-output\"\n};\nexport function register(name, action) {\n  if (!window.__BVD3_visualizers) window.__BVD3_visualizers = {};\n  window.__BVD3_visualizers[name] = action;\n  event.emit(\"bvd3-resource-loaded\");\n}\nexport function call(name) {\n  return window.__BVD3_visualizers[name]();\n}\ndocument.addEventListener(\"turbolinks:load\", function () {\n  if (window.__BVD3_visualizers[window.gon.module_name]) {\n    event.emit(\"bvd3-resource-loaded\");\n  }\n});","map":{"version":3,"sources":["/Users/wangzhenyu/Desktop/fyp_workspace/meta_platform/app/javascript/page/visualizers.ts"],"names":["event","viz_mode","ANALYSIS","TASK_OUTPUT","register","name","action","window","__BVD3_visualizers","emit","call","document","addEventListener","gon","module_name"],"mappings":"AAAA,SAASA,KAAT,QAAsB,iBAAtB;AAEA,OAAO,IAAMC,QAAQ,GAAG;AACpBC,EAAAA,QAAQ,EAAE,UADU;AAEpBC,EAAAA,WAAW,EAAE;AAFO,CAAjB;AAcP,OAAO,SAASC,QAAT,CAAkBC,IAAlB,EAAgCC,MAAhC,EAAoD;AACvD,MAAI,CAACC,MAAM,CAACC,kBAAZ,EAAgCD,MAAM,CAACC,kBAAP,GAA4B,EAA5B;AAChCD,EAAAA,MAAM,CAACC,kBAAP,CAA0BH,IAA1B,IAAkCC,MAAlC;AACAN,EAAAA,KAAK,CAACS,IAAN,CAAW,sBAAX;AACH;AAED,OAAO,SAASC,IAAT,CAAcL,IAAd,EAAiC;AACpC,SAAOE,MAAM,CAACC,kBAAP,CAA0BH,IAA1B,GAAP;AACH;AAEDM,QAAQ,CAACC,gBAAT,CAA0B,iBAA1B,EAA6C,YAAM;AAC/C,MAAIL,MAAM,CAACC,kBAAP,CAA0BD,MAAM,CAACM,GAAP,CAAWC,WAArC,CAAJ,EAAuD;AACnDd,IAAAA,KAAK,CAACS,IAAN,CAAW,sBAAX;AACH;AACJ,CAJD","sourcesContent":["import { event } from \"crux/dist/utils\";\n\nexport const viz_mode = {\n    ANALYSIS: \"analysis\",\n    TASK_OUTPUT: \"task-output\"\n};\n\ndeclare global {\n    interface Window {\n        __BVD3_visualizers: Record<string, () => void>;\n    }\n    interface gon {\n        viz_mode: string;\n    }\n}\n\nexport function register(name: string, action: () => void) {\n    if (!window.__BVD3_visualizers) window.__BVD3_visualizers = {};\n    window.__BVD3_visualizers[name] = action;\n    event.emit(\"bvd3-resource-loaded\");\n}\n\nexport function call(name: string): any {\n    return window.__BVD3_visualizers[name]();\n}\n\ndocument.addEventListener(\"turbolinks:load\", () => {\n    if (window.__BVD3_visualizers[window.gon.module_name]) {\n        event.emit(\"bvd3-resource-loaded\");\n    }\n});\n"]},"metadata":{},"sourceType":"module"}